# Практическое занятие №11 — Вариант 18
# Задание 1:
# 1. Сформировать текстовый файл с числами (полож. и отриц.).
# 2. Создать новый файл:
#    - исходные данные
#    - количество элементов
#    - среднее арифм.
#    - новая последовательность: каждый эл-т — квадрат суммы двух соседей

try:
    nums = ['-5 8 -2 10 4 -1']  # кароч список чисел строкой
    f = open('nums_18.txt', 'w')  # пишем в файл
    f.writelines(nums)
    f.close()

    f2 = open('out_18.txt', 'w')  # создаём файл с доп инфой
    f2.write('Исходные данные:\n')
    f2.writelines(nums)
    f2.write('\n')
    f2.close()

    f = open('nums_18.txt')  # читаем числа обратно
    s = f.read().split()
    f.close()
    for i in range(len(s)):
        s[i] = int(s[i])  # конвертим всё в int

    count = len(s)  # скока элементов
    avg = sum(s) / count if count else 0  # ср арифм но на всякий если пусто

    seq = []  # тут будет нов список
    for i in range(1, count - 1):  # по середине только
        x = (s[i - 1] + s[i + 1]) ** 2  # квадрат суммы соседей
        seq.append(x)

    f2 = open('out_18.txt', 'a')  # дозапись в файл
    f2.write(f'кол во элементов: {count}\n')
    f2.write(f'среднее арифметическое элементов: {avg:.2f}\n')
    f2.write('последовательность:\n')
    f2.write(' '.join(str(i) for i in seq))
    f2.close()

except Exception as e:
    print('чот не так:', e) 
